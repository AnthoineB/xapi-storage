<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>XCP Host APIs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="google-code-prettify/prettify.js"></script>

    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- FontAwesome is pretty awesome:
	 http://fortawesome.github.com/Font-Awesome -->

    <link rel="stylesheet" href="fontawesome/css/font-awesome.css">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  </head>

  <body onload="prettyPrint()">

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                    <li>
                        <a href="#a-16">
                            <i class="icon-pencil">
                                
                            </i>
                            debug_info
                        </a>
                    </li>
                    <li>
                        <a href="#a-17">
                            <i class="icon-pencil">
                                
                            </i>
                            power_state
                        </a>
                    </li>
                    <li>
                        <a href="#a-18">
                            <i class="icon-pencil">
                                
                            </i>
                            disk
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Query">
                            <i class="icon-book">
                                
                            </i>
                            Query
                        </a>
                    </li>
                    <li>
                        <a href="#a-45">
                            <i class="icon-pencil">
                                
                            </i>
                            info
                        </a>
                    </li>
                    <li>
                        <a href="#a-query">
                            <i class="icon-cogs">
                                
                            </i>
                            query
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Network">
                            <i class="icon-book">
                                
                            </i>
                            Network
                        </a>
                    </li>
                    <li>
                        <a href="#a-46">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Vm">
                            <i class="icon-book">
                                
                            </i>
                            Vm
                        </a>
                    </li>
                    <li>
                        <a href="#a-47">
                            <i class="icon-pencil">
                                
                            </i>
                            video_card
                        </a>
                    </li>
                    <li>
                        <a href="#a-48">
                            <i class="icon-pencil">
                                
                            </i>
                            hvm_info
                        </a>
                    </li>
                    <li>
                        <a href="#a-49">
                            <i class="icon-pencil">
                                
                            </i>
                            pv_direct_boot
                        </a>
                    </li>
                    <li>
                        <a href="#a-50">
                            <i class="icon-pencil">
                                
                            </i>
                            pv_indirect_boot
                        </a>
                    </li>
                    <li>
                        <a href="#a-51">
                            <i class="icon-pencil">
                                
                            </i>
                            pv_boot
                        </a>
                    </li>
                    <li>
                        <a href="#a-52">
                            <i class="icon-pencil">
                                
                            </i>
                            pv_info
                        </a>
                    </li>
                    <li>
                        <a href="#a-53">
                            <i class="icon-pencil">
                                
                            </i>
                            builder_info
                        </a>
                    </li>
                    <li>
                        <a href="#a-54">
                            <i class="icon-pencil">
                                
                            </i>
                            id
                        </a>
                    </li>
                    <li>
                        <a href="#a-55">
                            <i class="icon-pencil">
                                
                            </i>
                            action
                        </a>
                    </li>
                    <li>
                        <a href="#a-56">
                            <i class="icon-pencil">
                                
                            </i>
                            weight_and_cap
                        </a>
                    </li>
                    <li>
                        <a href="#a-57">
                            <i class="icon-pencil">
                                
                            </i>
                            scheduler_params
                        </a>
                    </li>
                    <li>
                        <a href="#a-58">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li>
                        <a href="#a-59">
                            <i class="icon-pencil">
                                
                            </i>
                            console_protocol
                        </a>
                    </li>
                    <li>
                        <a href="#a-60">
                            <i class="icon-pencil">
                                
                            </i>
                            console
                        </a>
                    </li>
                    <li>
                        <a href="#a-61">
                            <i class="icon-pencil">
                                
                            </i>
                            state
                        </a>
                    </li>
                    <li>
                        <a href="#a-add">
                            <i class="icon-cogs">
                                
                            </i>
                            add
                        </a>
                    </li>
                    <li>
                        <a href="#a-remove">
                            <i class="icon-cogs">
                                
                            </i>
                            remove
                        </a>
                    </li>
                    <li>
                        <a href="#a-create">
                            <i class="icon-cogs">
                                
                            </i>
                            create
                        </a>
                    </li>
                    <li>
                        <a href="#a-build">
                            <i class="icon-cogs">
                                
                            </i>
                            build
                        </a>
                    </li>
                    <li>
                        <a href="#a-create_device_model">
                            <i class="icon-cogs">
                                
                            </i>
                            create_device_model
                        </a>
                    </li>
                    <li>
                        <a href="#a-destroy">
                            <i class="icon-cogs">
                                
                            </i>
                            destroy
                        </a>
                    </li>
                    <li>
                        <a href="#a-pause">
                            <i class="icon-cogs">
                                
                            </i>
                            pause
                        </a>
                    </li>
                    <li>
                        <a href="#a-unpause">
                            <i class="icon-cogs">
                                
                            </i>
                            unpause
                        </a>
                    </li>
                    <li>
                        <a href="#a-set_vcpus">
                            <i class="icon-cogs">
                                
                            </i>
                            set_vcpus
                        </a>
                    </li>
                    <li>
                        <a href="#a-set_shadow_multiplier">
                            <i class="icon-cogs">
                                
                            </i>
                            set_shadow_multiplier
                        </a>
                    </li>
                    <li>
                        <a href="#a-stat">
                            <i class="icon-cogs">
                                
                            </i>
                            stat
                        </a>
                    </li>
                    <li>
                        <a href="#a-list">
                            <i class="icon-cogs">
                                
                            </i>
                            list
                        </a>
                    </li>
                    <li>
                        <a href="#a-start">
                            <i class="icon-cogs">
                                
                            </i>
                            start
                        </a>
                    </li>
                    <li>
                        <a href="#a-shutdown">
                            <i class="icon-cogs">
                                
                            </i>
                            shutdown
                        </a>
                    </li>
                    <li>
                        <a href="#a-reboot">
                            <i class="icon-cogs">
                                
                            </i>
                            reboot
                        </a>
                    </li>
                    <li>
                        <a href="#a-resume">
                            <i class="icon-cogs">
                                
                            </i>
                            resume
                        </a>
                    </li>
                    <li>
                        <a href="#a-s3suspend">
                            <i class="icon-cogs">
                                
                            </i>
                            s3suspend
                        </a>
                    </li>
                    <li>
                        <a href="#a-s3resume">
                            <i class="icon-cogs">
                                
                            </i>
                            s3resume
                        </a>
                    </li>
                    <li>
                        <a href="#a-migrate">
                            <i class="icon-cogs">
                                
                            </i>
                            migrate
                        </a>
                    </li>
                    <li>
                        <a href="#a-export_metadata">
                            <i class="icon-cogs">
                                
                            </i>
                            export_metadata
                        </a>
                    </li>
                    <li>
                        <a href="#a-import_metadata">
                            <i class="icon-cogs">
                                
                            </i>
                            import_metadata
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Pci">
                            <i class="icon-book">
                                
                            </i>
                            Pci
                        </a>
                    </li>
                    <li>
                        <a href="#a-62">
                            <i class="icon-pencil">
                                
                            </i>
                            id
                        </a>
                    </li>
                    <li>
                        <a href="#a-63">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li>
                        <a href="#a-64">
                            <i class="icon-pencil">
                                
                            </i>
                            state
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Vbd">
                            <i class="icon-book">
                                
                            </i>
                            Vbd
                        </a>
                    </li>
                    <li>
                        <a href="#a-65">
                            <i class="icon-pencil">
                                
                            </i>
                            mode
                        </a>
                    </li>
                    <li>
                        <a href="#a-66">
                            <i class="icon-pencil">
                                
                            </i>
                            ty
                        </a>
                    </li>
                    <li>
                        <a href="#a-67">
                            <i class="icon-pencil">
                                
                            </i>
                            id
                        </a>
                    </li>
                    <li>
                        <a href="#a-68">
                            <i class="icon-pencil">
                                
                            </i>
                            qos_class
                        </a>
                    </li>
                    <li>
                        <a href="#a-69">
                            <i class="icon-pencil">
                                
                            </i>
                            qos_scheduler
                        </a>
                    </li>
                    <li>
                        <a href="#a-70">
                            <i class="icon-pencil">
                                
                            </i>
                            qos
                        </a>
                    </li>
                    <li>
                        <a href="#a-71">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li>
                        <a href="#a-72">
                            <i class="icon-pencil">
                                
                            </i>
                            state
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Vif">
                            <i class="icon-book">
                                
                            </i>
                            Vif
                        </a>
                    </li>
                    <li>
                        <a href="#a-73">
                            <i class="icon-pencil">
                                
                            </i>
                            id
                        </a>
                    </li>
                    <li>
                        <a href="#a-74">
                            <i class="icon-pencil">
                                
                            </i>
                            rate
                        </a>
                    </li>
                    <li>
                        <a href="#a-75">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li>
                        <a href="#a-76">
                            <i class="icon-pencil">
                                
                            </i>
                            state
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Metadata">
                            <i class="icon-book">
                                
                            </i>
                            Metadata
                        </a>
                    </li>
                    <li>
                        <a href="#a-77">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Task">
                            <i class="icon-book">
                                
                            </i>
                            Task
                        </a>
                    </li>
                    <li>
                        <a href="#a-78">
                            <i class="icon-pencil">
                                
                            </i>
                            id
                        </a>
                    </li>
                    <li>
                        <a href="#a-79">
                            <i class="icon-pencil">
                                
                            </i>
                            result
                        </a>
                    </li>
                    <li>
                        <a href="#a-80">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li>
                        <a href="#a-stat">
                            <i class="icon-cogs">
                                
                            </i>
                            stat
                        </a>
                    </li>
                    <li>
                        <a href="#a-cancel">
                            <i class="icon-cogs">
                                
                            </i>
                            cancel
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-Dynamic">
                            <i class="icon-book">
                                
                            </i>
                            Dynamic
                        </a>
                    </li>
                    <li>
                        <a href="#a-81">
                            <i class="icon-pencil">
                                
                            </i>
                            id
                        </a>
                    </li>
                    <li>
                        <a href="#a-82">
                            <i class="icon-pencil">
                                
                            </i>
                            t
                        </a>
                    </li>
                    <li class="nav-header">
                        <a href="#a-exceptions">
                            Exceptions
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="span9">
            <h1 id="a-domains">
                domains: Domain manager
            </h1>
            <p>
                The Xen domain management service is responsible for all domain management on an XCP host. The API allows clients to register VM configurations with the management service and issue VM lifecycle commands such as: start, shutdown, reboot, suspend, resume and migrate. A simple event interface allows interested clients to notice when significant events have happened, for example a VM reboot or a Virtual Block Device (VBD) unplug.
            </p>
            <h2 id="a-16">
                type debug_info = string
            </h2>
            <p>
                Debug context from the caller
            </p>
            <h2 id="a-17">
                type power_state = variant { ... }
            </h2>
            <p>
                Power state of the VM
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Running
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        VM is running (i.e. a memory exists and vCPUs are being scheduled
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Halted
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        VM is not running (i.e. no memory is being consumed and no vCPUs are being scheduled)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Suspended
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        VM runtime state has been saved to disk and VM is not running (i.e. no memory is being consumed and no vCPUs are being scheduled)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Paused
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        VM is paused (i.e. memory is still being consumed but no vCPUs are being scheduled)
                    </td>
                </tr>
            </table>
            <h2 id="a-18">
                type disk = variant { ... }
            </h2>
            <p>
                A disk which should be added to a VM
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Local
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        An already-configured block device in dmoain 0 (intended for testing)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            VDI
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Identifies a VDI controlled by the Storage Manager (of the form SR/VDI)
                    </td>
                </tr>
            </table>
            <h2 id="a-Query">
                Query
            </h2>
            <p>
                Query the properties of this service
            </p>
            <h2 id="a-45">
                type info = struct  { ... }
            </h2>
            <p>
                Properties of this service
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            name
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Human-readable name of this service
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vendor
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Vendor of this service
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            version
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Version number of this service
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            features
                        </code>
                    </td>
                    <td>
                        <code>
                            string list
                        </code>
                    </td>
                    <td>
                        A set of feature flags
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            instance_id
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        A unique id for this instance, regenerated over service restart
                    </td>
                </tr>
            </table>
            <h3 id="a-query">
                query
            </h3>
            <p>
                [query] returns the properties of this service
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-query" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-query" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-query" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-query" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-query" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-query" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-query">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                info
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-45">
                                    info/Query
                                </a>
                            </code>
                        </td>
                        <td>
                            The properties of this service
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-query">
            <pre class="prettyprint">
                &lt;method name=&quot;query&quot;&gt;
    &lt;tp:docstring&gt;
        [query] returns the properties of this service
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(sssass)&quot; name=&quot;info&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            The properties of this service
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-query">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml854836ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Query_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.query ~dbg:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-query">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlda037bocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Query_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Query_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> query x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Query</span>.<span style="color:#0033cc">Query</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.({ name = <span style="color:#aa4444">"string"</span>; vendor = <span style="color:#aa4444">"string"</span>; version = <span style="color:#aa4444">"string"</span>; features = [ <span style="color:#aa4444">"string"</span>; <span style="color:#aa4444">"string"</span> ]; instance_id = <span style="color:#aa4444">"string"</span> })))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-query">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Query.query({ dbg: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-query">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Query_myimplementation(Query_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def query(self, dbg):
        &quot;&quot;&quot;Query the properties of this service&quot;&quot;&quot;
        result = {}
        result[&quot;info&quot;] = { &quot;name&quot;: &quot;string&quot;, &quot;vendor&quot;: &quot;string&quot;, &quot;version&quot;: &quot;string&quot;, &quot;features&quot;: [ &quot;string&quot;, &quot;string&quot; ], &quot;instance_id&quot;: &quot;string&quot; }
        return result
    # ...
            </pre>

            </div>
          </div>
            <h2 id="a-Network">
                Network
            </h2>
            <p>
                Types used for configuring VM networking
            </p>
            <h2 id="a-46">
                type t = variant { ... }
            </h2>
            <p>
                A network to be attached to a VM
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Local
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        name of an already-configured local switch
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Remote
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        name of a switch in another domain
                    </td>
                </tr>
            </table>
            <h2 id="a-Vm">
                Vm
            </h2>
            <p>
                Types used to represent a VM configuration
            </p>
            <h2 id="a-47">
                type video_card = variant { ... }
            </h2>
            <p>
                Type of video hardware
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Cirrus
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Cirrus Logic
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Standard_VGA
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Standard VGA
                    </td>
                </tr>
            </table>
            <h2 id="a-48">
                type hvm_info = struct  { ... }
            </h2>
            <p>
                Hardware options specific to HVM VMs
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            hap
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then Hardware Assisted Paging (HAP) will be enabled
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            shadow_multiplier
                        </code>
                    </td>
                    <td>
                        <code>
                            float
                        </code>
                    </td>
                    <td>
                        Allow the amount of shadow memory to be increased beyond the default amount (1.0 means default)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            timeoffset
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Offset between the host clock (in UTC) and guest time stored in the virtual BIOS
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            video_mib
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Amount of video memory (in MiB)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            video
                        </code>
                    </td>
                    <td>
                        <code>
                            video_card
                        </code>
                    </td>
                    <td>
                        Type of video hardware
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            acpi
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then ACPI will be enabled
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            serial
                        </code>
                    </td>
                    <td>
                        <code>
                            string option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            keymap
                        </code>
                    </td>
                    <td>
                        <code>
                            string option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vnc_ip
                        </code>
                    </td>
                    <td>
                        <code>
                            string option
                        </code>
                    </td>
                    <td>
                        Specify the IP on which the VNC framebuffer will listen (default 127.0.0.1)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            pci_emulations
                        </code>
                    </td>
                    <td>
                        <code>
                            string list
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            pci_passthrough
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then PCI passthrough is enabled
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            boot_order
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        BIOS boot order ('cdn' = disk; cdrom; network)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            qemu_disk_cmdline
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then the qemu commandline will be used to configure disks, otherwise xenstore will be used
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            qemu_stubdom
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then qemu will be run inside a stub domain
                    </td>
                </tr>
            </table>
            <h2 id="a-49">
                type pv_direct_boot = struct  { ... }
            </h2>
            <p>
                PV VM boot options without a 'pygrub'-style bootloader
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            kernel
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Path to the VM kernel image
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            cmdline
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Command-line options to pass to the VM kernel
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            ramdisk
                        </code>
                    </td>
                    <td>
                        <code>
                            string option
                        </code>
                    </td>
                    <td>
                        Optional initial ramdisk to pass to the VM kernel
                    </td>
                </tr>
            </table>
            <h2 id="a-50">
                type pv_indirect_boot = struct  { ... }
            </h2>
            <p>
                PV VM boot options when using a 'pygrub'-style bootloader
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            bootloader
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Name of the bootloader to use (e.g. 'pygrub')
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            extra_args
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Additional arguments to pass to the VM kernel in addition to those from the bootloader
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            legacy_args
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            bootloader_args
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Additional arguments to pass to the bootloader itself
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            devices
                        </code>
                    </td>
                    <td>
                        <code>
                            disk list
                        </code>
                    </td>
                    <td>
                        Ordered list of disks to search for bootloader configuration
                    </td>
                </tr>
            </table>
            <h2 id="a-51">
                type pv_boot = variant { ... }
            </h2>
            <p>
                Describes how to boot a particular PV VM
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Direct
                        </code>
                    </td>
                    <td>
                        <code>
                            pv_direct_boot
                        </code>
                    </td>
                    <td>
                        Use the given kernel/cmdline/ramdisk
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Indirect
                        </code>
                    </td>
                    <td>
                        <code>
                            pv_indirect_boot
                        </code>
                    </td>
                    <td>
                        Determine the kernel/cmdline/ramdisk through a bootloader (e.g. 'pygrub')
                    </td>
                </tr>
            </table>
            <h2 id="a-52">
                type pv_info = struct  { ... }
            </h2>
            <p>
                Hardware configuration for a particular PV VM
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            boot
                        </code>
                    </td>
                    <td>
                        <code>
                            pv_boot
                        </code>
                    </td>
                    <td>
                        Describe how to acquire a kernel/cmdline/initrd
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            framebuffer
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then create a PV framebuffer
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vncterm
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then export the default serial console over VNC
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vncterm_ip
                        </code>
                    </td>
                    <td>
                        <code>
                            string option
                        </code>
                    </td>
                    <td>
                        Specify the IP address to bind the default VNC serial console to
                    </td>
                </tr>
            </table>
            <h2 id="a-53">
                type builder_info = variant { ... }
            </h2>
            <p>
                Describes how to boot a particular VM (HVM or PV)
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            HVM
                        </code>
                    </td>
                    <td>
                        <code>
                            hvm_info
                        </code>
                    </td>
                    <td>
                        Boot HVM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            PV
                        </code>
                    </td>
                    <td>
                        <code>
                            pv_info
                        </code>
                    </td>
                    <td>
                        Boot PV
                    </td>
                </tr>
            </table>
            <h2 id="a-54">
                type id = string
            </h2>
            <p>
                A unique VM id (or handle)
            </p>
            <h2 id="a-55">
                type action = variant { ... }
            </h2>
            <p>
                Describes an action to perform after a shutdown/reboot/crash
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Coredump
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Perform a core dump
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Shutdown
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Shut down the VM and leave it Halted
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Start
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        (Re)Start the VM and leave it Running
                    </td>
                </tr>
            </table>
            <h2 id="a-56">
                type weight_and_cap = struct  { ... }
            </h2>
            <p>
                xen credit1 scheduler weight and cap
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            weight
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            cap
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
            </table>
            <h2 id="a-57">
                type scheduler_params = struct  { ... }
            </h2>
            <p>
                vCPU configuration for the xen scheduler
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            priority
                        </code>
                    </td>
                    <td>
                        <code>
                            weight_and_cap option
                        </code>
                    </td>
                    <td>
                        Priority setting to be applied to all vCPUs
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            affinity
                        </code>
                    </td>
                    <td>
                        <code>
                            int64 list list
                        </code>
                    </td>
                    <td>
                        For each vCPU, a set of pCPUs to pin it
                    </td>
                </tr>
            </table>
            <h2 id="a-58">
                type t = struct  { ... }
            </h2>
            <p>
                VM configuration
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        Unique ID for this VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            name
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Human-readable (non-unique) name for this VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            ssidref
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            xsdata
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Additional key/value pairs to write into xenstore on domain create
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            platformdata
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Additional key/value pairs to write into the platform/ directory in xenstore on domain create
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            bios_strings
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Key/value pairs representing the BIOS (e.g. vendor) information to be passed to the VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            ty
                        </code>
                    </td>
                    <td>
                        <code>
                            builder_info
                        </code>
                    </td>
                    <td>
                        Describes how to boot this VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            suppress_spurious_page_faults
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then enable the spurious page faults workaround
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            machine_address_size
                        </code>
                    </td>
                    <td>
                        <code>
                            int64 option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            memory_static_max
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Amount of physical RAM to expose to the VM during boot
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            memory_dynamic_max
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Maximum amount of physical host RAM to allocate to the guest (via PoD and ballooning)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            memory_dynamic_min
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Minimum amount of physical host RAM to allocate to the guest (via PoD and ballooning)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vcpu_max
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Number of virtual CPUs (vCPUs) to expose to the VM during boot
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vcpus
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Number of virtual CPUs (vCPUs) to tell the VM to actually use
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            scheduler_params
                        </code>
                    </td>
                    <td>
                        <code>
                            scheduler_params
                        </code>
                    </td>
                    <td>
                        xen scheduler configuration
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            on_crash
                        </code>
                    </td>
                    <td>
                        <code>
                            action list
                        </code>
                    </td>
                    <td>
                        actions to perform if this VM crashes
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            on_shutdown
                        </code>
                    </td>
                    <td>
                        <code>
                            action list
                        </code>
                    </td>
                    <td>
                        actions to perform if this VM shuts down
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            on_reboot
                        </code>
                    </td>
                    <td>
                        <code>
                            action list
                        </code>
                    </td>
                    <td>
                        actions to perform if this VM reboots
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            transient
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true this VM will be forgotten if it shuts down (not if it reboots)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            pci_msitranslate
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then enable MSI translation for passed-through PCI devices
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            pci_power_mgmt
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then enable PCI power management for passed-through PCI devices
                    </td>
                </tr>
            </table>
            <h2 id="a-59">
                type console_protocol = variant { ... }
            </h2>
            <p>
                Protocol to use for interacting with the VM console
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Rfb
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Use the Remote FrameBuffer protocol i.e. VNC
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Vt100
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Treat the console as a VT100 terminal
                    </td>
                </tr>
            </table>
            <h2 id="a-60">
                type console = struct  { ... }
            </h2>
            <p>
                Console configuration
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            protocol
                        </code>
                    </td>
                    <td>
                        <code>
                            console_protocol
                        </code>
                    </td>
                    <td>
                        Protocol to use for interacting with the VM console
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            port
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Port number on which the console server is listening
                    </td>
                </tr>
            </table>
            <h2 id="a-61">
                type state = struct  { ... }
            </h2>
            <p>
                Run-time state of the VM
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            power_state
                        </code>
                    </td>
                    <td>
                        <code>
                            power_state
                        </code>
                    </td>
                    <td>
                        Power state of the VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            domids
                        </code>
                    </td>
                    <td>
                        <code>
                            int64 list
                        </code>
                    </td>
                    <td>
                        Domain ids in use by the VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            consoles
                        </code>
                    </td>
                    <td>
                        <code>
                            console list
                        </code>
                    </td>
                    <td>
                        Consoles attached to the VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            memory_target
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Balloon driver memory target
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vcpu_target
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Actual number of vCPUs in use
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            shadow_multiplier_target
                        </code>
                    </td>
                    <td>
                        <code>
                            float
                        </code>
                    </td>
                    <td>
                        Effective shadow_multiplier in use
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            rtc_timeoffset
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        Difference between the host clock (in UTC) and the VM's BIOS clock
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            uncooperative_balloon_driver
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true the balloon driver is not responding properly to commands
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            guest_agent
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Key/value pairs reported by the guest agent via xenstore
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            last_start_time
                        </code>
                    </td>
                    <td>
                        <code>
                            float
                        </code>
                    </td>
                    <td>
                        Time the VM last (Re)Started
                    </td>
                </tr>
            </table>
            <h3 id="a-add">
                add
            </h3>
            <p>
                [add t] registers a new VM configuration [t] with the service.
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-add" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-add" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-add" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-add" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-add" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-add" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-add">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                t
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-58">
                                    t/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The VM configuration to register
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to the registered configuration
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-add">
            <pre class="prettyprint">
                &lt;method name=&quot;add&quot;&gt;
    &lt;tp:docstring&gt;
        [add t] registers a new VM configuration [t] with the service.
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(ssxa{ss}a{ss}a{ss}(i((bdsx(i())b(bs)(bs)(bs)asbsbb)((i((ss(bs))(ssssa(i(ss)))))bb(bs))))b(bx)xxxxx((b(xx))aax)a(i())a(i())a(i())bbb)&quot; name=&quot;t&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The VM configuration to register
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to the registered configuration
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-add">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamldd8c10ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.add ~dbg:<span style="color:#aa4444">"string"</span> ~t:{ id = <span style="color:#aa4444">"string"</span>; name = <span style="color:#aa4444">"string"</span>; ssidref = 0<span style="color:#0033cc">L</span>; xsdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; platformdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; bios_strings = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; ty = <span style="color:#0033cc">HVM</span> { hap = true; shadow_multiplier = 1.1; timeoffset = <span style="color:#aa4444">"string"</span>; video_mib = 0<span style="color:#0033cc">L</span>; video = <span style="color:#0033cc">Cirrus</span> (); acpi = true; serial = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; keymap = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; vnc_ip = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; pci_emulations = [ <span style="color:#aa4444">"string"</span>; <span style="color:#aa4444">"string"</span> ]; pci_passthrough = true; boot_order = <span style="color:#aa4444">"string"</span>; qemu_disk_cmdline = true; qemu_stubdom = true }; suppress_spurious_page_faults = true; machine_address_size = <span style="color:#0033cc">Some</span> 0<span style="color:#0033cc">L</span>; memory_static_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_min = 0<span style="color:#0033cc">L</span>; vcpu_max = 0<span style="color:#0033cc">L</span>; vcpus = 0<span style="color:#0033cc">L</span>; scheduler_params = { priority = <span style="color:#0033cc">Some</span> { weight = 0<span style="color:#0033cc">L</span>; cap = 0<span style="color:#0033cc">L</span> }; affinity = [ [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ] ] }; on_crash = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_shutdown = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_reboot = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; transient = true; pci_msitranslate = true; pci_power_mgmt = true };;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-add">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlc65269ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> add x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Add</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-add">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.add({ dbg: &quot;string&quot;, t: { &quot;id&quot;: &quot;string&quot;, &quot;name&quot;: &quot;string&quot;, &quot;ssidref&quot;: 0L, &quot;xsdata&quot;: { &quot;string&quot;: &quot;string&quot; }, &quot;platformdata&quot;: { &quot;string&quot;: &quot;string&quot; }, &quot;bios_strings&quot;: { &quot;string&quot;: &quot;string&quot; }, &quot;ty&quot;: None, &quot;suppress_spurious_page_faults&quot;: True, &quot;machine_address_size&quot;: None, &quot;memory_static_max&quot;: 0L, &quot;memory_dynamic_max&quot;: 0L, &quot;memory_dynamic_min&quot;: 0L, &quot;vcpu_max&quot;: 0L, &quot;vcpus&quot;: 0L, &quot;scheduler_params&quot;: { &quot;priority&quot;: None, &quot;affinity&quot;: [ [ 0L, 0L ], [ 0L, 0L ] ] }, &quot;on_crash&quot;: [ None, None ], &quot;on_shutdown&quot;: [ None, None ], &quot;on_reboot&quot;: [ None, None ], &quot;transient&quot;: True, &quot;pci_msitranslate&quot;: True, &quot;pci_power_mgmt&quot;: True } })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-add">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def add(self, dbg, t):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;id&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-remove">
                remove
            </h3>
            <p>
                [remove id] unregisters a VM configuration [id].
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-remove" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-remove" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-remove" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-remove" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-remove" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-remove" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-remove">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to unregister.
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-remove">
            <pre class="prettyprint">
                &lt;method name=&quot;remove&quot;&gt;
    &lt;tp:docstring&gt;
        [remove id] unregisters a VM configuration [id].
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to unregister.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-remove">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml590ca2ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.remove ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-remove">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml7429f5ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> remove x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Remove</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> ())
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-remove">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.remove({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-remove">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def remove(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-create">
                create
            </h3>
            <p>
                [create id] creates the necessary domains to (re)start a given VM
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-create" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-create" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-create" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-create" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-create" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-create" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-create">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-create">
            <pre class="prettyprint">
                &lt;method name=&quot;create&quot;&gt;
    &lt;tp:docstring&gt;
        [create id] creates the necessary domains to (re)start a given VM
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-create">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml6d355eocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.create ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-create">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml54bdbbocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> create x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Create</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-create">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.create({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-create">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def create(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-build">
                build
            </h3>
            <p>
                [build id] runs the domain builder to (re)start a given VM
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-build" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-build" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-build" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-build" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-build" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-build" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-build">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-build">
            <pre class="prettyprint">
                &lt;method name=&quot;build&quot;&gt;
    &lt;tp:docstring&gt;
        [build id] runs the domain builder to (re)start a given VM
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-build">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamle17f70ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.build ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-build">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml458a76ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> build x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Build</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-build">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.build({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-build">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def build(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-create_device_model">
                create_device_model
            </h3>
            <p>
                [create_device_model id] instantiates the virtual hardware (device model) to (re)start a given VM
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-create_device_model" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-create_device_model" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-create_device_model" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-create_device_model" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-create_device_model" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-create_device_model" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-create_device_model">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                is_resuming
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                bool
                            </code>
                        </td>
                        <td>
                            If true then the VM is being resumed and device model state should be reloaded
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-create_device_model">
            <pre class="prettyprint">
                &lt;method name=&quot;create_device_model&quot;&gt;
    &lt;tp:docstring&gt;
        [create_device_model id] instantiates the virtual hardware (device model) to (re)start a given VM
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;b&quot; name=&quot;is_resuming&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            If true then the VM is being resumed and device model state should be reloaded
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-create_device_model">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml156bdfocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.create_device_model ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~is_resuming:true;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-create_device_model">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml88a160ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> create_device_model x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Create_device_model</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-create_device_model">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.create_device_model({ dbg: &quot;string&quot;, id: &quot;string&quot;, is_resuming: True })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-create_device_model">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def create_device_model(self, dbg, id, is_resuming):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-destroy">
                destroy
            </h3>
            <p>
                [destroy id] destroys all domains associated with a given VM
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-destroy" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-destroy" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-destroy" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-destroy" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-destroy" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-destroy" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-destroy">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-destroy">
            <pre class="prettyprint">
                &lt;method name=&quot;destroy&quot;&gt;
    &lt;tp:docstring&gt;
        [destroy id] destroys all domains associated with a given VM
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-destroy">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlbbb002ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.destroy ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-destroy">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml34d52aocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> destroy x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Destroy</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-destroy">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.destroy({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-destroy">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def destroy(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-pause">
                pause
            </h3>
            <p>
                [pause id] deschedules all vCPUs of a VM, leaving it paused
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-pause" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-pause" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-pause" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-pause" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-pause" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-pause" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-pause">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-pause">
            <pre class="prettyprint">
                &lt;method name=&quot;pause&quot;&gt;
    &lt;tp:docstring&gt;
        [pause id] deschedules all vCPUs of a VM, leaving it paused
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-pause">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlfbf59eocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.pause ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-pause">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlde940aocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> pause x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Pause</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-pause">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.pause({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-pause">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def pause(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-unpause">
                unpause
            </h3>
            <p>
                [unpause id] unpauses a VM, allowing all vCPUs to be scheduled
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-unpause" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-unpause" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-unpause" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-unpause" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-unpause" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-unpause" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-unpause">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-unpause">
            <pre class="prettyprint">
                &lt;method name=&quot;unpause&quot;&gt;
    &lt;tp:docstring&gt;
        [unpause id] unpauses a VM, allowing all vCPUs to be scheduled
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-unpause">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlb8c526ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.unpause ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-unpause">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml9d4c5aocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> unpause x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Unpause</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-unpause">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.unpause({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-unpause">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def unpause(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-set_vcpus">
                set_vcpus
            </h3>
            <p>
                [set_vcpus id target] sets the total number of vCPUs which a VM should use to [target]
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-set_vcpus" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-set_vcpus" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-set_vcpus" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-set_vcpus" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-set_vcpus" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-set_vcpus" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-set_vcpus">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                num_vpcus
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                int64
                            </code>
                        </td>
                        <td>
                            The target number of vCPUs
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-set_vcpus">
            <pre class="prettyprint">
                &lt;method name=&quot;set_vcpus&quot;&gt;
    &lt;tp:docstring&gt;
        [set_vcpus id target] sets the total number of vCPUs which a VM should use to [target]
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;x&quot; name=&quot;num_vpcus&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The target number of vCPUs
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-set_vcpus">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml22381docaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.set_vcpus ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~num_vpcus:0<span style="color:#0033cc">L</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-set_vcpus">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml07eb99ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> set_vcpus x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Set_vcpus</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-set_vcpus">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.set_vcpus({ dbg: &quot;string&quot;, id: &quot;string&quot;, num_vpcus: 0L })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-set_vcpus">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def set_vcpus(self, dbg, id, num_vpcus):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-set_shadow_multiplier">
                set_shadow_multiplier
            </h3>
            <p>
                [set_shadow_multiplier id] sets the total number of vCPUs which a VM should use to [target]
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-set_shadow_multiplier" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-set_shadow_multiplier" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-set_shadow_multiplier" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-set_shadow_multiplier" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-set_shadow_multiplier" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-set_shadow_multiplier" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-set_shadow_multiplier">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                shadow_multiplier
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                float
                            </code>
                        </td>
                        <td>
                            The target shadow_multiplier
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-set_shadow_multiplier">
            <pre class="prettyprint">
                &lt;method name=&quot;set_shadow_multiplier&quot;&gt;
    &lt;tp:docstring&gt;
        [set_shadow_multiplier id] sets the total number of vCPUs which a VM should use to [target]
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;d&quot; name=&quot;shadow_multiplier&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The target shadow_multiplier
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-set_shadow_multiplier">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamld09ca0ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.set_shadow_multiplier ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~shadow_multiplier:1.1;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-set_shadow_multiplier">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml7deacfocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> set_shadow_multiplier x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Set_shadow_multiplier</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-set_shadow_multiplier">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.set_shadow_multiplier({ dbg: &quot;string&quot;, id: &quot;string&quot;, shadow_multiplier: 1.1 })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-set_shadow_multiplier">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def set_shadow_multiplier(self, dbg, id, shadow_multiplier):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-stat">
                stat
            </h3>
            <p>
                [stat id] returns the current VM configuration
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-stat" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-stat" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-stat" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-stat" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-stat" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-stat" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-stat">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to query.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                state
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-58">
                                    t/Vm
                                </a>
                                 * 
                                <a href="#a-61">
                                    state/Vm
                                </a>
                                 option
                            </code>
                        </td>
                        <td>
                            The current VM runtime state
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-stat">
            <pre class="prettyprint">
                &lt;method name=&quot;stat&quot;&gt;
    &lt;tp:docstring&gt;
        [stat id] returns the current VM configuration
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to query.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(b(ssxa{ss}a{ss}a{ss}(i((bdsx(i())b(bs)(bs)(bs)asbsbb)((i((ss(bs))(ssssa(i(ss)))))bb(bs))))b(bx)xxxxx((b(xx))aax)a(i())a(i())a(i())bbb)((i())axa((i())x)xxdsba{ss}d))&quot; name=&quot;state&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            The current VM runtime state
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-stat">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml96731focaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.stat ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-stat">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml4cf8b0ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> stat x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Stat</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#0033cc">Some</span> ({ id = <span style="color:#aa4444">"string"</span>; name = <span style="color:#aa4444">"string"</span>; ssidref = 0<span style="color:#0033cc">L</span>; xsdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; platformdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; bios_strings = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; ty = <span style="color:#0033cc">HVM</span> { hap = true; shadow_multiplier = 1.1; timeoffset = <span style="color:#aa4444">"string"</span>; video_mib = 0<span style="color:#0033cc">L</span>; video = <span style="color:#0033cc">Cirrus</span> (); acpi = true; serial = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; keymap = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; vnc_ip = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; pci_emulations = [ <span style="color:#aa4444">"string"</span>; <span style="color:#aa4444">"string"</span> ]; pci_passthrough = true; boot_order = <span style="color:#aa4444">"string"</span>; qemu_disk_cmdline = true; qemu_stubdom = true }; suppress_spurious_page_faults = true; machine_address_size = <span style="color:#0033cc">Some</span> 0<span style="color:#0033cc">L</span>; memory_static_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_min = 0<span style="color:#0033cc">L</span>; vcpu_max = 0<span style="color:#0033cc">L</span>; vcpus = 0<span style="color:#0033cc">L</span>; scheduler_params = { priority = <span style="color:#0033cc">Some</span> { weight = 0<span style="color:#0033cc">L</span>; cap = 0<span style="color:#0033cc">L</span> }; affinity = [ [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ] ] }; on_crash = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_shutdown = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_reboot = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; transient = true; pci_msitranslate = true; pci_power_mgmt = true }, { power_state = <span style="color:#0033cc">Running</span> (); domids = [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; consoles = [ { protocol = <span style="color:#0033cc">Rfb</span> (); port = 0<span style="color:#0033cc">L</span> }; { protocol = <span style="color:#0033cc">Rfb</span> (); port = 0<span style="color:#0033cc">L</span> } ]; memory_target = 0<span style="color:#0033cc">L</span>; vcpu_target = 0<span style="color:#0033cc">L</span>; shadow_multiplier_target = 1.1; rtc_timeoffset = <span style="color:#aa4444">"string"</span>; uncooperative_balloon_driver = true; guest_agent = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; last_start_time = 1.1 }))))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-stat">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.stat({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-stat">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def stat(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;state&quot;] = None
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-list">
                list
            </h3>
            <p>
                [list id] returns the list of all registered VM configurations
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-list" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-list" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-list" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-list" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-list" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-list" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-list">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                VMs
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-58">
                                    t/Vm
                                </a>
                                 * 
                                <a href="#a-61">
                                    state/Vm
                                </a>
                                 list
                            </code>
                        </td>
                        <td>
                            All registered VM configurations
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-list">
            <pre class="prettyprint">
                &lt;method name=&quot;list&quot;&gt;
    &lt;tp:docstring&gt;
        [list id] returns the list of all registered VM configurations
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;a(ssxa{ss}a{ss}a{ss}(i((bdsx(i())b(bs)(bs)(bs)asbsbb)((i((ss(bs))(ssssa(i(ss)))))bb(bs))))b(bx)xxxxx((b(xx))aax)a(i())a(i())a(i())bbb)((i())axa((i())x)xxdsba{ss}d)&quot; name=&quot;VMs&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            All registered VM configurations
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-list">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml133909ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.list ~dbg:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-list">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlda3f2focaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> list x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">List</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.([ ({ id = <span style="color:#aa4444">"string"</span>; name = <span style="color:#aa4444">"string"</span>; ssidref = 0<span style="color:#0033cc">L</span>; xsdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; platformdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; bios_strings = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; ty = <span style="color:#0033cc">HVM</span> { hap = true; shadow_multiplier = 1.1; timeoffset = <span style="color:#aa4444">"string"</span>; video_mib = 0<span style="color:#0033cc">L</span>; video = <span style="color:#0033cc">Cirrus</span> (); acpi = true; serial = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; keymap = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; vnc_ip = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; pci_emulations = [ <span style="color:#aa4444">"string"</span>; <span style="color:#aa4444">"string"</span> ]; pci_passthrough = true; boot_order = <span style="color:#aa4444">"string"</span>; qemu_disk_cmdline = true; qemu_stubdom = true }; suppress_spurious_page_faults = true; machine_address_size = <span style="color:#0033cc">Some</span> 0<span style="color:#0033cc">L</span>; memory_static_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_min = 0<span style="color:#0033cc">L</span>; vcpu_max = 0<span style="color:#0033cc">L</span>; vcpus = 0<span style="color:#0033cc">L</span>; scheduler_params = { priority = <span style="color:#0033cc">Some</span> { weight = 0<span style="color:#0033cc">L</span>; cap = 0<span style="color:#0033cc">L</span> }; affinity = [ [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ] ] }; on_crash = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_shutdown = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_reboot = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; transient = true; pci_msitranslate = true; pci_power_mgmt = true }, { power_state = <span style="color:#0033cc">Running</span> (); domids = [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; consoles = [ { protocol = <span style="color:#0033cc">Rfb</span> (); port = 0<span style="color:#0033cc">L</span> }; { protocol = <span style="color:#0033cc">Rfb</span> (); port = 0<span style="color:#0033cc">L</span> } ]; memory_target = 0<span style="color:#0033cc">L</span>; vcpu_target = 0<span style="color:#0033cc">L</span>; shadow_multiplier_target = 1.1; rtc_timeoffset = <span style="color:#aa4444">"string"</span>; uncooperative_balloon_driver = true; guest_agent = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; last_start_time = 1.1 }); ({ id = <span style="color:#aa4444">"string"</span>; name = <span style="color:#aa4444">"string"</span>; ssidref = 0<span style="color:#0033cc">L</span>; xsdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; platformdata = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; bios_strings = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; ty = <span style="color:#0033cc">HVM</span> { hap = true; shadow_multiplier = 1.1; timeoffset = <span style="color:#aa4444">"string"</span>; video_mib = 0<span style="color:#0033cc">L</span>; video = <span style="color:#0033cc">Cirrus</span> (); acpi = true; serial = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; keymap = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; vnc_ip = <span style="color:#0033cc">Some</span> <span style="color:#aa4444">"string"</span>; pci_emulations = [ <span style="color:#aa4444">"string"</span>; <span style="color:#aa4444">"string"</span> ]; pci_passthrough = true; boot_order = <span style="color:#aa4444">"string"</span>; qemu_disk_cmdline = true; qemu_stubdom = true }; suppress_spurious_page_faults = true; machine_address_size = <span style="color:#0033cc">Some</span> 0<span style="color:#0033cc">L</span>; memory_static_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_max = 0<span style="color:#0033cc">L</span>; memory_dynamic_min = 0<span style="color:#0033cc">L</span>; vcpu_max = 0<span style="color:#0033cc">L</span>; vcpus = 0<span style="color:#0033cc">L</span>; scheduler_params = { priority = <span style="color:#0033cc">Some</span> { weight = 0<span style="color:#0033cc">L</span>; cap = 0<span style="color:#0033cc">L</span> }; affinity = [ [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ] ] }; on_crash = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_shutdown = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; on_reboot = [ <span style="color:#0033cc">Coredump</span> (); <span style="color:#0033cc">Coredump</span> () ]; transient = true; pci_msitranslate = true; pci_power_mgmt = true }, { power_state = <span style="color:#0033cc">Running</span> (); domids = [ 0<span style="color:#0033cc">L</span>; 0<span style="color:#0033cc">L</span> ]; consoles = [ { protocol = <span style="color:#0033cc">Rfb</span> (); port = 0<span style="color:#0033cc">L</span> }; { protocol = <span style="color:#0033cc">Rfb</span> (); port = 0<span style="color:#0033cc">L</span> } ]; memory_target = 0<span style="color:#0033cc">L</span>; vcpu_target = 0<span style="color:#0033cc">L</span>; shadow_multiplier_target = 1.1; rtc_timeoffset = <span style="color:#aa4444">"string"</span>; uncooperative_balloon_driver = true; guest_agent = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ]; last_start_time = 1.1 }) ])))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-list">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.list({ dbg: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-list">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def list(self, dbg):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;VMs&quot;] = [ [], [] ]
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-start">
                start
            </h3>
            <p>
                [start id] powers-on a VM, leaving it Running
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-start" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-start" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-start" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-start" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-start" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-start" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-start">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-start">
            <pre class="prettyprint">
                &lt;method name=&quot;start&quot;&gt;
    &lt;tp:docstring&gt;
        [start id] powers-on a VM, leaving it Running
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-start">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamld52a1bocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.start ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-start">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml84b424ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> start x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Start</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-start">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.start({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-start">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def start(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-shutdown">
                shutdown
            </h3>
            <p>
                [shutdown id] shuts down and powers-off a VM, leaving it Halted
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-shutdown" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-shutdown" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-shutdown" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-shutdown" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-shutdown" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-shutdown" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-shutdown">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                clean_shutdown_timeout
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                float
                                 option
                            </code>
                        </td>
                        <td>
                            If a clean_shutdown_timeout is provided, signal and wait for the guest to shutdown before powering it off
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-shutdown">
            <pre class="prettyprint">
                &lt;method name=&quot;shutdown&quot;&gt;
    &lt;tp:docstring&gt;
        [shutdown id] shuts down and powers-off a VM, leaving it Halted
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(bd)&quot; name=&quot;clean_shutdown_timeout&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            If a clean_shutdown_timeout is provided, signal and wait for the guest to shutdown before powering it off
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-shutdown">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml9100ceocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.shutdown ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~clean_shutdown_timeout:<span style="color:#0033cc">Some</span> 1.1;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-shutdown">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlc2e77focaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> shutdown x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Shutdown</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-shutdown">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.shutdown({ dbg: &quot;string&quot;, id: &quot;string&quot;, clean_shutdown_timeout: None })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-shutdown">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def shutdown(self, dbg, id, clean_shutdown_timeout):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-reboot">
                reboot
            </h3>
            <p>
                [reboot id] reboots a VM, leaving it Running
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-reboot" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-reboot" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-reboot" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-reboot" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-reboot" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-reboot" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-reboot">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                clean_shutdown_timeout
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                float
                                 option
                            </code>
                        </td>
                        <td>
                            If a clean_shutdown_timeout is provided, signal and wait for the guest to shutdown before powering it off
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-reboot">
            <pre class="prettyprint">
                &lt;method name=&quot;reboot&quot;&gt;
    &lt;tp:docstring&gt;
        [reboot id] reboots a VM, leaving it Running
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(bd)&quot; name=&quot;clean_shutdown_timeout&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            If a clean_shutdown_timeout is provided, signal and wait for the guest to shutdown before powering it off
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-reboot">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlc2e53focaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.reboot ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~clean_shutdown_timeout:<span style="color:#0033cc">Some</span> 1.1;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-reboot">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml1242f2ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> reboot x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Reboot</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-reboot">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.reboot({ dbg: &quot;string&quot;, id: &quot;string&quot;, clean_shutdown_timeout: None })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-reboot">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def reboot(self, dbg, id, clean_shutdown_timeout):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-resume">
                resume
            </h3>
            <p>
                [resume id disk] resumes a VM from the given [disk], leaving it Running
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-resume" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-resume" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-resume" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-resume" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-resume" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-resume" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-resume">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                disk
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-18">
                                    disk
                                </a>
                            </code>
                        </td>
                        <td>
                            The disk from which to load the running memory state
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-resume">
            <pre class="prettyprint">
                &lt;method name=&quot;resume&quot;&gt;
    &lt;tp:docstring&gt;
        [resume id disk] resumes a VM from the given [disk], leaving it Running
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(i(ss))&quot; name=&quot;disk&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The disk from which to load the running memory state
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-resume">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml9bcacbocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.resume ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~disk:<span style="color:#0033cc">Local</span> <span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-resume">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml1473e8ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> resume x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Resume</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-resume">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.resume({ dbg: &quot;string&quot;, id: &quot;string&quot;, disk: None })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-resume">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def resume(self, dbg, id, disk):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-s3suspend">
                s3suspend
            </h3>
            <p>
                [s3suspend id] triggers an S3 suspend
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-s3suspend" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-s3suspend" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-s3suspend" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-s3suspend" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-s3suspend" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-s3suspend" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-s3suspend">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-s3suspend">
            <pre class="prettyprint">
                &lt;method name=&quot;s3suspend&quot;&gt;
    &lt;tp:docstring&gt;
        [s3suspend id] triggers an S3 suspend
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-s3suspend">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml75bf5aocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.s3suspend ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-s3suspend">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml245092ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> s3suspend x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">S3suspend</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-s3suspend">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.s3suspend({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-s3suspend">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def s3suspend(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-s3resume">
                s3resume
            </h3>
            <p>
                [s3resume id] triggers an S3 resume
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-s3resume" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-s3resume" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-s3resume" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-s3resume" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-s3resume" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-s3resume" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-s3resume">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-s3resume">
            <pre class="prettyprint">
                &lt;method name=&quot;s3resume&quot;&gt;
    &lt;tp:docstring&gt;
        [s3resume id] triggers an S3 resume
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-s3resume">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlacf627ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.s3resume ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-s3resume">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlbade28ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> s3resume x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">S3resume</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-s3resume">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.s3resume({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-s3resume">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def s3resume(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-migrate">
                migrate
            </h3>
            <p>
                [migrate id url] migrates a running VM image to a remote machine
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-migrate" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-migrate" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-migrate" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-migrate" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-migrate" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-migrate" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-migrate">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                url
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                string
                            </code>
                        </td>
                        <td>
                            URL of remote xenops service to receive the running VM image
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                task
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to an asynchronous task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-migrate">
            <pre class="prettyprint">
                &lt;method name=&quot;migrate&quot;&gt;
    &lt;tp:docstring&gt;
        [migrate id url] migrates a running VM image to a remote machine
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;url&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            URL of remote xenops service to receive the running VM image
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;task&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to an asynchronous task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-migrate">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml73c9a8ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.migrate ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span> ~url:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-migrate">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml24b003ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> migrate x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Migrate</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-migrate">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.migrate({ dbg: &quot;string&quot;, id: &quot;string&quot;, url: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-migrate">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def migrate(self, dbg, id, url):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;task&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-export_metadata">
                export_metadata
            </h3>
            <p>
                [export_metadata id] returns a whole VM configuration as a string
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-export_metadata" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-export_metadata" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-export_metadata" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-export_metadata" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-export_metadata" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-export_metadata" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-export_metadata">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the VM to act on.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                VM
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                string
                            </code>
                        </td>
                        <td>
                            A whole VM configuration
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-export_metadata">
            <pre class="prettyprint">
                &lt;method name=&quot;export_metadata&quot;&gt;
    &lt;tp:docstring&gt;
        [export_metadata id] returns a whole VM configuration as a string
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the VM to act on.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;VM&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A whole VM configuration
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-export_metadata">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlbb9a3eocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.export_metadata ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-export_metadata">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml2d2170ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> export_metadata x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Export_metadata</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-export_metadata">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.export_metadata({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-export_metadata">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def export_metadata(self, dbg, id):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;VM&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-import_metadata">
                import_metadata
            </h3>
            <p>
                [import_metadata config] takes a whole VM configuration and registers it (including all devices)
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-import_metadata" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-import_metadata" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-import_metadata" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-import_metadata" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-import_metadata" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-import_metadata" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-import_metadata">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                config
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                string
                            </code>
                        </td>
                        <td>
                            The whole VM configuration to import.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-54">
                                    id/Vm
                                </a>
                            </code>
                        </td>
                        <td>
                            A reference to the registered VM.
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-import_metadata">
            <pre class="prettyprint">
                &lt;method name=&quot;import_metadata&quot;&gt;
    &lt;tp:docstring&gt;
        [import_metadata config] takes a whole VM configuration and registers it (including all devices)
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;config&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The whole VM configuration to import.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            A reference to the registered VM.
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-import_metadata">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml022f30ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Vm_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.import_metadata ~dbg:<span style="color:#aa4444">"string"</span> ~config:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-import_metadata">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml003f33ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Vm_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Vm_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> import_metadata x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Vm</span>.<span style="color:#0033cc">Import_metadata</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.(<span style="color:#aa4444">"string"</span>)))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-import_metadata">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Vm.import_metadata({ dbg: &quot;string&quot;, config: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-import_metadata">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Vm_myimplementation(Vm_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def import_metadata(self, dbg, config):
        &quot;&quot;&quot;Types used to represent a VM configuration&quot;&quot;&quot;
        result = {}
        result[&quot;id&quot;] = &quot;string&quot;
        return result
    # ...
            </pre>

            </div>
          </div>
            <h2 id="a-Pci">
                Pci
            </h2>
            <p>
                PCI devices passed-through to the VM
            </p>
            <h2 id="a-62">
                type id = string list
            </h2>
            <p>
                A reference (or handle) to a PCI device
            </p>
            <h2 id="a-63">
                type t = struct  { ... }
            </h2>
            <p>
                PCI device configuration
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        Reference to this PCI device configuration
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            position
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Position on the VM's virtual PCI bus
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            domain
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Physical PCI device domain
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            bus
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Physical PCI device bus
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            dev
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Physical PCI device dev
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            fn
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Physical PCI device function
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            msitranslate
                        </code>
                    </td>
                    <td>
                        <code>
                            bool option
                        </code>
                    </td>
                    <td>
                        Override the VM-wide MSI translation setting for this device
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            power_mgmt
                        </code>
                    </td>
                    <td>
                        <code>
                            bool option
                        </code>
                    </td>
                    <td>
                        Override the VM-wide PCI power management setting for this device
                    </td>
                </tr>
            </table>
            <h2 id="a-64">
                type state = struct  { ... }
            </h2>
            <p>
                Run-time state of this PCI device
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            plugged
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true this device is currently attached to the VM
                    </td>
                </tr>
            </table>
            <h2 id="a-Vbd">
                Vbd
            </h2>
            <p>
                Virtual Block Device configuration
            </p>
            <h2 id="a-65">
                type mode = variant { ... }
            </h2>
            <p>
                Indicates whether this block device will be exposed read/only or read/write
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            ReadOnly
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Expose as read/only
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            ReadWrite
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Expose as read/write
                    </td>
                </tr>
            </table>
            <h2 id="a-66">
                type ty = variant { ... }
            </h2>
            <p>
                Indicates whether this block device will be exposed as a fixed disk or removable CDROM
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            CDROM
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Expose as a removable CDROM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Disk
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Expose as a fixed disk
                    </td>
                </tr>
            </table>
            <h2 id="a-67">
                type id = string list
            </h2>
            <p>
                A reference (or handle) to this VBD configuration
            </p>
            <h2 id="a-68">
                type qos_class = variant { ... }
            </h2>
            <p>
                Disk QoS scheduling class
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Highest
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            High
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Normal
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Low
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Lowest
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Other
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
            </table>
            <h2 id="a-69">
                type qos_scheduler = variant { ... }
            </h2>
            <p>
                Choice of Disk QoS scheduler
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            RealTime
                        </code>
                    </td>
                    <td>
                        <code>
                            qos_class
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Idle
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            BestEffort
                        </code>
                    </td>
                    <td>
                        <code>
                            qos_class
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
            </table>
            <h2 id="a-70">
                type qos = variant { ... }
            </h2>
            <p>
                VBD QoS configuration
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Ionice
                        </code>
                    </td>
                    <td>
                        <code>
                            qos_scheduler
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
            </table>
            <h2 id="a-71">
                type t = struct  { ... }
            </h2>
            <p>
                VBD configuration
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        Unique ID for this VBD configuration
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            position
                        </code>
                    </td>
                    <td>
                        <code>
                            int64 option
                        </code>
                    </td>
                    <td>
                        Position this disk should be exposed at on the VM's disk controller
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            mode
                        </code>
                    </td>
                    <td>
                        <code>
                            mode
                        </code>
                    </td>
                    <td>
                        Read/write or Read/only
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            backend
                        </code>
                    </td>
                    <td>
                        <code>
                            disk option
                        </code>
                    </td>
                    <td>
                        Actual disk contents (None means empty)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            ty
                        </code>
                    </td>
                    <td>
                        <code>
                            ty
                        </code>
                    </td>
                    <td>
                        Fixed disk or removable CDROM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            unpluggable
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then the device can be hot-unplugged from the VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            extra_backend_keys
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Key/value pairs to be written to the disk backend in xenstore
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            extra_private_keys
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Key/value pairs to be written to the per-disk private directory in xenstore
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            qos
                        </code>
                    </td>
                    <td>
                        <code>
                            qos option
                        </code>
                    </td>
                    <td>
                        Optional QoS configuration
                    </td>
                </tr>
            </table>
            <h2 id="a-72">
                type state = struct  { ... }
            </h2>
            <p>
                Run-time state of the VBD
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        Unique ID for the corresponding VBD
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            qos_target
                        </code>
                    </td>
                    <td>
                        <code>
                            qos option
                        </code>
                    </td>
                    <td>
                        Disk QoS parameters in effect (if any)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            media_present
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then media is present in this drive
                    </td>
                </tr>
            </table>
            <h2 id="a-Vif">
                Vif
            </h2>
            <p>
                Virtual (Network) InterFace configuration
            </p>
            <h2 id="a-73">
                type id = string list
            </h2>
            <p>
                A reference (or handle) to identify this VIF configuration
            </p>
            <h2 id="a-74">
                type rate = struct  { ... }
            </h2>
            <p>
                QoS settings for this VIF
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            kbytes_per_sec
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        kBytes/sec maximum rate to allow
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            timeslice_us
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Interval in microseconds to impose the maximum rate
                    </td>
                </tr>
            </table>
            <h2 id="a-75">
                type t = struct  { ... }
            </h2>
            <p>
                a VIF configuration
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        A reference to uniquely identify this VIF configuration
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            position
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Position this VIF will be exposed at on the VM's bus
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            mac
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        MAC address
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            carrier
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then signal that a carrier is present
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            mtu
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        Maximum Transfer Unit (MTU)
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            rate
                        </code>
                    </td>
                    <td>
                        <code>
                            rate option
                        </code>
                    </td>
                    <td>
                        Optional QoS setting
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            backend
                        </code>
                    </td>
                    <td>
                        <code>
                            t/Network
                        </code>
                    </td>
                    <td>
                        XXX
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            other_config
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            extra_private_keys
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
            </table>
            <h2 id="a-76">
                type state = struct  { ... }
            </h2>
            <p>
                Run-time state of this VIF
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            plugged
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then this VIF is currently attached to the VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            kthread_pid
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            media_present
                        </code>
                    </td>
                    <td>
                        <code>
                            bool
                        </code>
                    </td>
                    <td>
                        If true then media is present in this VIF
                    </td>
                </tr>
            </table>
            <h2 id="a-Metadata">
                Metadata
            </h2>
            <p>
                Encapsulates a whole VM configuration (VM, VBDs, VIFs, PCIs)
            </p>
            <h2 id="a-77">
                type t = struct  { ... }
            </h2>
            <p>
                A whole VM configuration (e.g. for export or import)
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            vm
                        </code>
                    </td>
                    <td>
                        <code>
                            t/Vm
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vbds
                        </code>
                    </td>
                    <td>
                        <code>
                            t/Vbd list
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            vifs
                        </code>
                    </td>
                    <td>
                        <code>
                            t/Vif list
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            pcis
                        </code>
                    </td>
                    <td>
                        <code>
                            t/Pci list
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            domains
                        </code>
                    </td>
                    <td>
                        <code>
                            string option
                        </code>
                    </td>
                    <td>
                        Opaque data describing per-domain state
                    </td>
                </tr>
            </table>
            <h2 id="a-Task">
                Task
            </h2>
            <p>
                Describes asynchronous tasks
            </p>
            <h2 id="a-78">
                type id = string
            </h2>
            <p>
                A reference (or handle) to a specific task
            </p>
            <h2 id="a-79">
                type result = variant { ... }
            </h2>
            <p>
                The result of a task which has stopped executing
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Pending
                        </code>
                    </td>
                    <td>
                        <code>
                            float
                        </code>
                    </td>
                    <td>
                        Task is still running and is the given fraction complete
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Completed
                        </code>
                    </td>
                    <td>
                        <code>
                            float
                        </code>
                    </td>
                    <td>
                        Task has completed successfully after the given number of seconds
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Failed
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        XXX Task has failed with the given error
                    </td>
                </tr>
            </table>
            <h2 id="a-80">
                type t = struct  { ... }
            </h2>
            <p>
                An asynchronous task
            </p>
            <p>
                Members:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        <code>
                            id
                        </code>
                    </td>
                    <td>
                        A reference (or handle) to a specific task
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            result
                        </code>
                    </td>
                    <td>
                        <code>
                            result
                        </code>
                    </td>
                    <td>
                        Current progress or result
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            subtasks
                        </code>
                    </td>
                    <td>
                        <code>
                            (string * string) list
                        </code>
                    </td>
                    <td>
                        Diagnostic information about 'subtasks'
                    </td>
                </tr>
            </table>
            <h3 id="a-stat">
                stat
            </h3>
            <p>
                [stat task] returns the current state of [task].
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-stat" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-stat" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-stat" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-stat" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-stat" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-stat" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-stat">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the task to query
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                t
                            </code>
                        </td>
                        <td>
                            out
                        </td>
                        <td>
                            <code>
                                <a href="#a-80">
                                    t/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            The current state of the task
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-stat">
            <pre class="prettyprint">
                &lt;method name=&quot;stat&quot;&gt;
    &lt;tp:docstring&gt;
        [stat task] returns the current state of [task].
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the task to query
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;(s(i(dds))a{ss})&quot; name=&quot;t&quot; direction=&quot;out&quot;&gt;
        &lt;tp:docstring&gt;
            The current state of the task
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-stat">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml963ed7ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Task_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.stat ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-stat">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml285ed3ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Task_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Task_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> stat x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Task</span>.<span style="color:#0033cc">Stat</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> (<span style="color:#0033cc">Out</span>.({ id = <span style="color:#aa4444">"string"</span>; result = <span style="color:#0033cc">Pending</span> 1.1; subtasks = [ (<span style="color:#aa4444">"string"</span>, <span style="color:#aa4444">"string"</span>) ] })))
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-stat">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Task.stat({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-stat">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Task_myimplementation(Task_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def stat(self, dbg, id):
        &quot;&quot;&quot;Describes asynchronous tasks&quot;&quot;&quot;
        result = {}
        result[&quot;t&quot;] = { &quot;id&quot;: &quot;string&quot;, &quot;result&quot;: None, &quot;subtasks&quot;: { &quot;string&quot;: &quot;string&quot; } }
        return result
    # ...
            </pre>

            </div>
          </div>
            <h3 id="a-cancel">
                cancel
            </h3>
            <p>
                [cancel task] requests that [task] be immediately cancelled.
            </p>

          <ul id="tab" class="nav nav-tabs">
            <li><a href="#defn-cancel" data-toggle="tab">Definition</a></li>
            <li class="active"><a href="#ocaml-cancel" data-toggle="tab">ocaml client</a></li>
            <li><a href="#ocaml-server-cancel" data-toggle="tab">ocaml server</a></li>
            <li><a href="#python-client-cancel" data-toggle="tab">python client</a></li>
            <li><a href="#python-server-cancel" data-toggle="tab">python server</a></li>
            <li><a href="#dbus-cancel" data-toggle="tab">DBUS XML</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade" id="defn-cancel">
            <div class="alert alert-info">
                <table class="table table-striped">
                    <th>
                        <td>
                            Direction
                        </td>
                        <td>
                            Type
                        </td>
                        <td>
                            Description
                        </td>
                    </th>
                    <tr>
                        <td>
                            <code>
                                dbg
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-16">
                                    debug_info
                                </a>
                            </code>
                        </td>
                        <td>
                            Debug context from the caller
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <code>
                                id
                            </code>
                        </td>
                        <td>
                            in
                        </td>
                        <td>
                            <code>
                                <a href="#a-78">
                                    id/Task
                                </a>
                            </code>
                        </td>
                        <td>
                            The reference of the task to cancel
                        </td>
                    </tr>
                </table>
            </div>

            </div>
            <div class="tab-pane fade" id="dbus-cancel">
            <pre class="prettyprint">
                &lt;method name=&quot;cancel&quot;&gt;
    &lt;tp:docstring&gt;
        [cancel task] requests that [task] be immediately cancelled.
    &lt;/tp:docstring&gt;
    &lt;arg type=&quot;s&quot; name=&quot;dbg&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            Debug context from the caller
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
    &lt;arg type=&quot;s&quot; name=&quot;id&quot; direction=&quot;in&quot;&gt;
        &lt;tp:docstring&gt;
            The reference of the task to cancel
        &lt;/tp:docstring&gt;
    &lt;/arg&gt;
&lt;/method&gt;

            </pre>

            </div>
            <div class="tab-pane fade in active" id="ocaml-cancel">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocamlf5e774ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* these directives only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;
#require <span style="color:#aa4444">"lwt"</span>;;
#require <span style="color:#aa4444">"lwt.syntax"</span>;;
#require <span style="color:#aa4444">"rpc.unix"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Client</span> = <span style="color:#0033cc">Task_client</span>(<span style="color:#990099">struct</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Lwt</span>
    <span style="color:green">let</span> rpc call = return (<span style="color:#0033cc">Rpc_client</span>.do_rpc ~content_type:<span style="color:#0033cc">`</span><span style="color:#0033cc">XML</span> ~path:<span style="color:#aa4444">"/"</span> ~host:<span style="color:#aa4444">"127.0.0.1"</span> ~port:80 call) <span style="color:#990000">(* TODO: Rpc_client needs to support Lwt *)</span>
<span style="color:#990099">end</span>)

<span style="color:green">let</span> result = <span style="color:#0033cc">Client</span>.cancel ~dbg:<span style="color:#aa4444">"string"</span> ~id:<span style="color:#aa4444">"string"</span>;;</pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="ocaml-server-cancel">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <title>
/var/folders/ml/fqqlxl6j03l2lf9ljfms9m540000gn/T/ocaml6034d8ocaml</title>
  <meta name="GENERATOR" content="caml2html 1.4.3">
</head>
<body>

<pre>
<span style="color:#990000">(* this line only needed in a toplevel: *)</span>
#require <span style="color:#aa4444">"xcp-api-client"</span>;;

<span style="color:#cc9900">open</span> <span style="color:#0033cc">S</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Domains</span>
<span style="color:#cc9900">open</span> <span style="color:#0033cc">Types</span>

<span style="color:green">module</span> <span style="color:#0033cc">Task_myimplementation</span> = <span style="color:green">functor</span>(<span style="color:#0033cc">M</span>: <span style="color:#0033cc">M</span>) -&gt; <span style="color:#990099">struct</span>
    <span style="color:#990000">(* by default every operation will return a 'not implemented' exception *)</span>
    <span style="color:#cc9900">include</span> <span style="color:#0033cc">Task_skeleton</span>(<span style="color:#0033cc">M</span>)
    <span style="color:#990000">(* ... *)</span>
    <span style="color:green">let</span> cancel x =
        <span style="color:green">let</span> <span style="color:#cc9900">open</span> <span style="color:#0033cc">Task</span>.<span style="color:#0033cc">Cancel</span> <span style="color:green">in</span>
        return (<span style="color:#0033cc">`</span><span style="color:#0033cc">Ok</span> ())
    <span style="color:#990000">(* ... *)</span>
<span style="color:#990099">end</span></pre>
</body>
</html>

            </div>
            <div class="tab-pane fade" id="python-client-cancel">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

if __name__ == &quot;__main__&quot;:
    c = xcp.connect()
    results = c.Task.cancel({ dbg: &quot;string&quot;, id: &quot;string&quot; })
    print (repr(results))
            </pre>

            </div>
            <div class="tab-pane fade" id="python-server-cancel">
            <pre class="prettyprint lang-python">
                
import xmlrpclib
import xcp
from storage import *

class Task_myimplementation(Task_skeleton):
    # by default each method will return a Not_implemented error
    # ...
    def cancel(self, dbg, id):
        &quot;&quot;&quot;Describes asynchronous tasks&quot;&quot;&quot;
        result = {}
        return result
    # ...
            </pre>

            </div>
          </div>
            <h2 id="a-Dynamic">
                Dynamic
            </h2>
            <p>
                Dynamically-typed values
            </p>
            <h2 id="a-81">
                type id = variant { ... }
            </h2>
            <p>
                A reference (or handle) to a specific object
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Vm
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Vm
                        </code>
                    </td>
                    <td>
                        A VM reference
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Vbd
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Vbd
                        </code>
                    </td>
                    <td>
                        A VBD reference
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Vif
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Vif
                        </code>
                    </td>
                    <td>
                        A VIF reference
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Pci
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Pci
                        </code>
                    </td>
                    <td>
                        A PCI reference
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Task
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Task
                        </code>
                    </td>
                    <td>
                        A Task reference
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Barrier
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        A barrier inserted into an event stream
                    </td>
                </tr>
            </table>
            <h2 id="a-82">
                type t = variant { ... }
            </h2>
            <p>
                A dynamically-typed event
            </p>
            <p>
                Constructors:
            </p>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Type
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Vm_t
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Vm * t/Vm * state/Vm option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Vbd_t
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Vbd * t/Vbd * state/Vbd option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Vif_t
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Vif * t/Vif * state/Vif option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Pci_t
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Pci * t/Pci * state/Pci option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Task_t
                        </code>
                    </td>
                    <td>
                        <code>
                            id/Task * t/Task option
                        </code>
                    </td>
                    <td>
                        
                    </td>
                </tr>
            </table>
            <h1 id="a-exceptions">
                Exceptions
            </h1>
            <table class="table table-striped table-condensed">
                <th>
                    <td>
                        Parameter Types
                    </td>
                    <td>
                        Description
                    </td>
                </th>
                <tr>
                    <td>
                        <code>
                            Internal_error
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        An unexpected internal error occurred. The exception parameter will contain further information.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Already_exists
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        An object could not be created because one already exists with the same primary key.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Does_not_exist
                        </code>
                    </td>
                    <td>
                        <code>
                            string * string
                        </code>
                    </td>
                    <td>
                        An object of type {1} and reference {2} does not exist
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Unimplemented
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The called function has not been implemented yet.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Domain_not_built
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        This operation cannot be performed on a domain which has not been built by the domain builder
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Maximum_vcpus
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        The maximum number of vCPUs is {1}
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Bad_power_state
                        </code>
                    </td>
                    <td>
                        <code>
                            power_state * power_state
                        </code>
                    </td>
                    <td>
                        The operation cannot be performed while the VM is in the {1} power_state; it should be {2} instead
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Failed_to_achnowledge_shutdown_request
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The VM failed to acknowledge a request to shut itself down. Perhaps it does not have the VM tools installed?
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Failed_to_shutdown
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The VM failed to shutdown
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Device_is_connected
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The device is still connected to a VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Device_not_connected
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The device is not connected to a VM
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Device_detach_rejected
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The VM rejected a request to hot-unplug the device
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Media_not_ejectable
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The device contains media which is not ejectable.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Media_present
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The device already contains media.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Media_not_present
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        THe device does not contain media.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            No_bootable_device
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The VM cannot be started because no device is bootable.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Bootloader_error
                        </code>
                    </td>
                    <td>
                        <code>
                            string * string list
                        </code>
                    </td>
                    <td>
                        The VM bootloader returned an error.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Ballooning_error
                        </code>
                    </td>
                    <td>
                        <code>
                            string * string
                        </code>
                    </td>
                    <td>
                        The ballooning service returned an error.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            No_ballooning_service
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        Memory could not be allocated because no ballooning service is running.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Not_supported
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The operation is not supported on this (kind of) VM.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            IO_error
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        A disk I/O error occurred.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            VDI_not_found
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        The storage service could not find a VDI
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Caller_must_pass_file_descriptor
                        </code>
                    </td>
                    <td>
                        <code>
                            unit
                        </code>
                    </td>
                    <td>
                        This operation requires the caller to pass a file descriptor but none was sent.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Failed_to_contact_remote_service
                        </code>
                    </td>
                    <td>
                        <code>
                            string
                        </code>
                    </td>
                    <td>
                        The remote service ({1}) could not be contacted. Perhaps it is not running?
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Hook_failed
                        </code>
                    </td>
                    <td>
                        <code>
                            string * string * string * string
                        </code>
                    </td>
                    <td>
                        The hook script failed with the given error
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>
                            Not_enough_memory
                        </code>
                    </td>
                    <td>
                        <code>
                            int64
                        </code>
                    </td>
                    <td>
                        The host does not have enough memory free to complete this operation
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="bootstrap/js/jquery.js"></script>
    <script src="bootstrap/js/bootstrap-transition.js"></script>
    <script src="bootstrap/js/bootstrap-alert.js"></script>
    <script src="bootstrap/js/bootstrap-modal.js"></script>
    <script src="bootstrap/js/bootstrap-dropdown.js"></script>
    <script src="bootstrap/js/bootstrap-scrollspy.js"></script>
    <script src="bootstrap/js/bootstrap-tab.js"></script>
    <script src="bootstrap/js/bootstrap-tooltip.js"></script>
    <script src="bootstrap/js/bootstrap-popover.js"></script>
    <script src="bootstrap/js/bootstrap-button.js"></script>
    <script src="bootstrap/js/bootstrap-collapse.js"></script>
    <script src="bootstrap/js/bootstrap-carousel.js"></script>
    <script src="bootstrap/js/bootstrap-typeahead.js"></script>

  </body>
</html>
